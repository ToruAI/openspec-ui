## ADDED Requirements

### Requirement: Idea Management API
The system SHALL provide REST API endpoints for managing raw ideas before they become full proposals.

#### Scenario: List all ideas
- **WHEN** a client requests GET /api/ideas
- **THEN** the server returns an array of all ideas with id, title, description, createdAt, and updatedAt fields

#### Scenario: Create new idea
- **WHEN** a client posts to POST /api/ideas with title and description
- **THEN** the server creates a new idea in the ideas/ directory and returns the created idea

#### Scenario: Update idea
- **WHEN** a client sends PUT /api/ideas/:id with updated title and/or description
- **THEN** the server updates the idea file in the ideas/ directory with new content and updated timestamp
- **AND** the server returns the updated idea

#### Scenario: Delete idea
- **WHEN** a client sends DELETE /api/ideas/:id
- **THEN** the server removes the idea file from the ideas/ directory

#### Scenario: Idea ID format
- **WHEN** creating or updating an idea
- **THEN** the idea ID follows the format `source_id/idea-id` where `source_id` identifies the OpenSpec source
- **AND** `idea-id` is a unique identifier generated by the system

### Requirement: Idea Storage Format
The system SHALL store ideas in a dedicated `ideas/` directory at the root of each OpenSpec source.

#### Scenario: Idea file creation
- **WHEN** a new idea is created
- **THEN** a Markdown file is created at `ideas/[idea-id].md` with YAML frontmatter for metadata

#### Scenario: Idea file format
- **WHEN** storing an idea as Markdown
- **THEN** the file contains YAML frontmatter (id, projectId, createdAt, updatedAt) followed by title (as H1) and description content

#### Scenario: Idea file listing
- **WHEN** listing ideas
- **THEN** the system reads all .md files from the `ideas/` directory

#### Scenario: Idea file update
- **WHEN** updating an idea
- **THEN** the YAML frontmatter's updatedAt field is updated to current timestamp
- **AND** the title and description content is replaced with new values

### Requirement: Real-time Idea Updates
The system SHALL broadcast SSE events when ideas are created, modified, or deleted.

#### Scenario: Idea created event
- **WHEN** an idea is created via API
- **THEN** an SSE `update` event is broadcast to all connected clients

#### Scenario: Idea updated event
- **WHEN** an idea is updated via API
- **THEN** an SSE `update` event is broadcast to all connected clients

#### Scenario: Idea deleted event
- **WHEN** an idea is deleted via API
- **THEN** an SSE `update` event is broadcast to all connected clients
